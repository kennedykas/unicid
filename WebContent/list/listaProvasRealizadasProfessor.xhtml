<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://xmlns.jcp.org/jsf/html" 
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
      
	<!-- HEAD -->
	<ui:include src="../componentes/head/head.xhtml" />
<h:body>
	<!-- NAVBAR -->
	<ui:include src="../componentes/header/navbarProfessor.xhtml" />
	
	<div class="container">
		<!-- ALUNOS QUE JA REALIZARAM A PROVA -->
		<h:form styleClass="loading">
		
			<h2>Alunos que já realizaram as provas</h2>
		
			<h:dataTable 
				value="#{controllerProvasRealizadas.getListaProvasRealizadas(controllerProfessores.professor.codigo)}" 
				var="dados" 
				class="table table-striped">
		
				<!-- RGM ALUNO -->
				<h:column>
					<f:facet name="header">
						<h:outputText value="RGM" />
					</f:facet>
					<h:outputText value="#{controllerAlunos.getRgm(dados.codAluno)}"/>
				</h:column>
	
				<!-- NOME ALUNO -->
				<h:column>
					<f:facet name="header">
						<h:outputText value="NOME" />
					</f:facet>
					<h:outputText value="#{controllerAlunos.getNome(dados.codAluno)}"/>
				</h:column>
				
				<!-- TITULO --> 
				<h:column>
					<f:facet name="header">
						<h:outputText value="TITULO DA PROVA" />
					</f:facet>
					<h:outputText value="#{controllerProvas.getTitulo(dados.codProva)}" />
				</h:column>
	
				<!-- NOTA -->
				<h:column>
					<f:facet name="header">
						<h:outputText value="NOTA" />
					</f:facet>
					<h:outputText value="#{dados.nota}" />
				</h:column>

				<!-- TEMPO -->
				<h:column>
					<f:facet name="header">
						<h:outputText value="TEMPO"/>
					</f:facet>
					<h:outputText value="#{dados.tempo}"/>
				</h:column>

				<!-- DATA -->
				<h:column>
					<f:facet name="header">
						<h:outputText value="DATA" />
					</f:facet>
					<h:outputText value="#{dados.data}"/>
				</h:column>
	
				<!-- ACOES -->
				<h:column>
					<f:facet name="header">
						<h:outputText value="AÇÕES" />
					</f:facet>
					<!-- EXCLUIR -->
					<h:commandLink 
						actionListener="#{controllerProvasRealizadas.selecionarRegistro}" 
						action="#{controllerProvasRealizadas.excluir()}" 
						onclick="return confirm('Tem certeza que deseja remover o resultado deste aluno? Nem ele nem você poderam ver ou recuperar esses dados novamente! Caso este teste permita a realização após a data o aluno poderá realiazá-lo novamente!')" 
						class="glyphicon glyphicon-trash" 
						title="EXCLUIR"/>
				</h:column>
			</h:dataTable>	
		</h:form>
	</div>
		
	<!-- FOOTER -->
	<ui:include src="../componentes/footer/footer.xhtml" />
</h:body>
</html>